!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).TranslitEd={})}(this,(function(e){"use strict";const r=/^(?:0|[1-9]\d*)$/;const t=Object.prototype,a=t.hasOwnProperty,c=t.toString,n=t.propertyIsEnumerable,s=function overArg(e,r){return function(t){return e(r(t))}}(Object.keys,Object);function arrayLikeKeys(e,r){let t=i(e)||function isArguments(e){return function isArrayLikeObject(e){return function isObjectLike(e){return!!e&&"object"==typeof e}(e)&&isArrayLike(e)}(e)&&a.call(e,"callee")&&(!n.call(e,"callee")||"[object Arguments]"===c.call(e))}(e)?function baseTimes(e,r){let t=-1,a=Array(e);for(;++t<e;)a[t]=r(t);return a}(e.length,String):[],s=t.length,l=!!s;for(let c in e)!r&&!a.call(e,c)||l&&("length"===c||isIndex(c,s))||t.push(c);return t}const l=function createBaseFor(e){return function(r,t,a){let c=-1,n=Object(r),s=a(r),l=s.length;for(;l--;){let r=s[e?l:++c];if(!1===t(n[r],r,n))break}return r}}();function baseInverter(e,r,t,a){return function baseForOwn(e,r){return e&&l(e,r,keys)}(e,(function(e,c,n){r(a,t(e),c,n)})),a}function baseKeys(e){if(!function isPrototype(e){let r=e&&e.constructor,a="function"==typeof r&&r.prototype||t;return e===a}(e))return s(e);const r=[];for(let t in Object(e))a.call(e,t)&&"constructor"!==t&&r.push(t);return r}function isIndex(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}const i=Array.isArray;function isArrayLike(e){return null!=e&&function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function isFunction(e){const r=function isObject(e){const r=typeof e;return!!e&&("object"===r||"function"===r)}(e)?c.call(e):"";return"[object Function]"===r||"[object GeneratorFunction]"===r}(e)}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}const u=function createInverter(e,r){return function(t,a){return baseInverter(t,e,r(a),{})}}((function(e,r,t){e[r]=t}),function constant(e){return function(){return e}}((function identity(e){return e})));function CyrillicToLatinUnsafe(e){const r=e?e.preset:"ru",t={"а":"a","б":"b","в":"v","д":"d","з":"z","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","ь":""};let a;"ru"===r?Object.assign(t,{"г":"g","и":"i","ъ":"","ы":"i","э":"e"}):"uk"===r&&Object.assign(t,{"г":"h","ґ":"g","е":"e","и":"y","і":"i","'":"","’":"","ʼ":""}),"ru"===r?a=Object.assign(u(t),{i:"и","":""}):"uk"===r&&(a=Object.assign(u(t),{"":""}));const c="ru"===r?{"е":"ye"}:{"є":"ye","ї":"yi"},n={"ё":"yo","ж":"zh","х":"kh","ц":"ts","ч":"ch","ш":"sh","щ":"shch","ю":"yu","я":"ya"},s=Object.assign({},n,c),l=Object.assign(u(s)),i=Object.assign(t,s),o=Object.assign({},t,{"й":"i"});let p;"ru"===r?Object.assign(o,{"е":"e"}):"uk"===r&&Object.assign(o,{"ї":"i"}),"ru"===r?p=Object.assign(u(t),{i:"и",y:"ы",e:"е","":""}):"uk"===r&&(p=Object.assign(u(t),{"":""}));let L={};"uk"===r&&(L={"є":"ie","ю":"iu","я":"ia"});const b=Object.assign(n,L),f=Object.assign(u(b)),k=Object.assign(o,b);return{transform:function transform(e,t){if(!e)return"";const a=e.normalize();let c="",n=!1;for(let e=0;e<a.length;e++){const s=a[e]===a[e].toUpperCase();let l,u=a[e].toLowerCase();" "!==u?("uk"===r&&"зг"===a.slice(e-1,e+1).toLowerCase()?l="gh":0===e||n?(l=i[u],n=!1):l=k[u],void 0===l?c+=s?u.toUpperCase():u:s?l.length>1?c+=l[0].toUpperCase()+l.slice(1):c+=l.toUpperCase():c+=l):(c+=t||" ",n=!0)}return c},reverse:function reverse(e,r){if(!e)return"";const t=e.normalize();let c="",n=!1,s=0;for(;s<t.length;){const e=t[s]===t[s].toUpperCase();let i,u=t[s].toLowerCase(),o=s;if(" "===u||u===r){c+=" ",n=!0,s++;continue}let L=t.slice(s,s+2).toLowerCase();0===s||n?(i=l[L],i?s+=2:(i=a[u],s++),n=!1):(i=f[L],i?s+=2:(i=p[u],s++)),"shch"===t.slice(o,o+4).toLowerCase()?(i="щ",s=o+4):"zgh"===t.slice(o-1,o+2).toLowerCase()&&(i="г",s=o+2),void 0===i?c+=e?u.toUpperCase():u:e?i.length>1?c+=i[0].toUpperCase()+i.slice(1):c+=i.toUpperCase():c+=i}return c}}}function cyrillicToLatin(e){function cyrillicLetterToLatin(e,r){function replaceLetter(e,t){return"r"===r&&"e"===e?(r="e","xe"+t):"e"===r&&"r"===e?(r="r","xr"+t):t}switch(e){case"а":return replaceLetter("r","a");case"б":return replaceLetter("r","b");case"в":return replaceLetter("r","v");case"г":return replaceLetter("r","g");case"д":return replaceLetter("r","d");case"е":return replaceLetter("r","e");case"ё":return replaceLetter("r","jo");case"ж":return replaceLetter("r","zh");case"з":return replaceLetter("r","z");case"и":return replaceLetter("r","i");case"й":return replaceLetter("r","jj");case"к":return replaceLetter("r","k");case"л":return replaceLetter("r","l");case"м":return replaceLetter("r","m");case"н":return replaceLetter("r","n");case"о":return replaceLetter("r","o");case"п":return replaceLetter("r","p");case"р":return replaceLetter("r","r");case"с":return replaceLetter("r","s");case"т":return replaceLetter("r","t");case"у":return replaceLetter("r","u");case"ф":return replaceLetter("r","f");case"х":return replaceLetter("r","kh");case"ц":return replaceLetter("r","c");case"ч":return replaceLetter("r","ch");case"ш":return replaceLetter("r","sh");case"щ":return replaceLetter("r","shh");case"ъ":return replaceLetter("r","jq");case"ы":return replaceLetter("r","y");case"ь":return replaceLetter("r","q");case"э":return replaceLetter("r","eh");case"ю":return replaceLetter("r","ju");case"я":return replaceLetter("r","ja");case"А":return replaceLetter("r","A");case"Б":return replaceLetter("r","B");case"В":return replaceLetter("r","V");case"Г":return replaceLetter("r","G");case"Д":return replaceLetter("r","D");case"Е":return replaceLetter("r","E");case"Ё":return replaceLetter("r","JO");case"Ж":return replaceLetter("r","ZH");case"З":return replaceLetter("r","Z");case"И":return replaceLetter("r","I");case"Й":return replaceLetter("r","JJ");case"К":return replaceLetter("r","K");case"Л":return replaceLetter("r","L");case"М":return replaceLetter("r","M");case"Н":return replaceLetter("r","N");case"О":return replaceLetter("r","O");case"П":return replaceLetter("r","P");case"Р":return replaceLetter("r","R");case"С":return replaceLetter("r","S");case"Т":return replaceLetter("r","T");case"У":return replaceLetter("r","U");case"Ф":return replaceLetter("r","F");case"Х":return replaceLetter("r","KH");case"Ц":return replaceLetter("r","C");case"Ч":return replaceLetter("r","CH");case"Ш":return replaceLetter("r","SH");case"Щ":return replaceLetter("r","SHH");case"Ъ":return replaceLetter("r","JQ");case"Ы":return replaceLetter("r","Y");case"Ь":return replaceLetter("r","Q");case"Э":return replaceLetter("r","EH");case"Ю":return replaceLetter("r","JU");case"Я":return replaceLetter("r","JA");case"a":return replaceLetter("e","a");case"b":return replaceLetter("e","b");case"c":return replaceLetter("e","c");case"d":return replaceLetter("e","d");case"e":return replaceLetter("e","e");case"f":return replaceLetter("e","f");case"g":return replaceLetter("e","g");case"h":return replaceLetter("e","h");case"i":return replaceLetter("e","i");case"j":return replaceLetter("e","jj");case"k":return replaceLetter("e","k");case"l":return replaceLetter("e","l");case"m":return replaceLetter("e","m");case"n":return replaceLetter("e","n");case"o":return replaceLetter("e","o");case"p":return replaceLetter("e","p");case"q":return replaceLetter("e","q");case"r":return replaceLetter("e","r");case"s":return replaceLetter("e","s");case"t":return replaceLetter("e","t");case"u":return replaceLetter("e","u");case"v":return replaceLetter("e","v");case"w":return replaceLetter("e","ww");case"x":return replaceLetter("e","xx");case"y":return replaceLetter("e","y");case"z":return replaceLetter("e","z");case"A":return replaceLetter("e","A");case"B":return replaceLetter("e","B");case"C":return replaceLetter("e","C");case"D":return replaceLetter("e","D");case"E":return replaceLetter("e","E");case"F":return replaceLetter("e","F");case"G":return replaceLetter("e","G");case"H":return replaceLetter("e","H");case"I":return replaceLetter("e","I");case"J":return replaceLetter("e","JJ");case"K":return replaceLetter("e","K");case"L":return replaceLetter("e","L");case"M":return replaceLetter("e","M");case"N":return replaceLetter("e","N");case"O":return replaceLetter("e","O");case"P":return replaceLetter("e","P");case"Q":return replaceLetter("e","Q");case"R":return replaceLetter("e","R");case"S":return replaceLetter("e","S");case"T":return replaceLetter("e","T");case"U":return replaceLetter("e","U");case"V":return replaceLetter("e","V");case"W":return replaceLetter("e","WW");case"X":return replaceLetter("e","XX");case"Y":return replaceLetter("e","Y");case"Z":return replaceLetter("e","Z");default:const r=e.charCodeAt(0);return r>255?"xu"+r.toString(16)+"x":e}}let r="";for(let t=0,a=e.length;t<a;t++)r+=cyrillicLetterToLatin(e.charAt(t),"r");return r}const o=new Map([["а","a"],["б","b"],["в","v"],["г","g"],["д","d"],["е","e"],["є","e"],["ё","e"],["ж","j"],["з","z"],["и","i"],["ї","yi"],["й","i"],["к","k"],["л","l"],["м","m"],["н","n"],["о","o"],["п","p"],["р","r"],["с","s"],["т","t"],["у","u"],["ф","f"],["х","h"],["ц","c"],["ч","ch"],["ш","sh"],["щ","shch"],["ы","y"],["э","e"],["ю","u"],["я","ya"]]);function cyrillicToLatinSimple(e){return e=e.replace(/[ъь]+/g,""),Array.from(e).reduce((e,r)=>e+(o.get(r)||void 0===o.get(r.toLowerCase())&&r||o.get(r.toLowerCase()).toUpperCase()),"")}function latinToCyrillic(e){const r=e.length;let t="",a=0,c=0,n="",s="";function fillLetter(){c>=r?n="":(n=e[c],c++,s=c===r?"":e[c])}let writeLetter=function(e){t+=e};function theError(e){!function errorFillingArtefact(e){let r=e.toString()+" in position "+c;console.log(r+""),writeLetter("^")}(e)}function ProchitajjXU(){fillLetter();let e=0,r=6;for(;;){if(r<0)return theError("Too long hexadecimal number"),void writeLetter(n);if("x"===n){writeLetter(String.fromCharCode(e));break}switch(e*=16,n){case"0":break;case"1":e+=1;break;case"2":e+=2;break;case"3":e+=3;break;case"4":e+=4;break;case"5":e+=5;break;case"6":e+=6;break;case"7":e+=7;break;case"8":e+=8;break;case"9":e+=9;break;case"A":case"a":e+=10;break;case"B":case"b":e+=11;break;case"C":case"c":e+=12;break;case"D":case"d":e+=13;break;case"E":case"e":e+=14;break;case"F":case"f":e+=15;break;default:return theError("Wrong hexadecimal number"),void writeLetter(n)}fillLetter(),r--}}for(fillLetter();""!==n;){switch(a){case 0:switch(s){case"H":const e=n;fillLetter();let r="H"===s;switch(e){case"Z":writeLetter("Ж");break;case"K":writeLetter("Х");break;case"C":writeLetter("Ч");break;case"S":r?(writeLetter("Щ"),fillLetter()):writeLetter("Ш");break;case"E":writeLetter("Э");break;default:theError("Wrong construction …H")}break;case"h":const t=n;fillLetter();let c="h"===s;switch(t){case"z":writeLetter("ж");break;case"k":writeLetter("х");break;case"c":writeLetter("ч");break;case"s":c?(writeLetter("щ"),fillLetter()):writeLetter("ш");break;case"e":writeLetter("э");break;default:theError("Wrong construction …h")}break;default:switch(n){case"x":switch(fillLetter(),n){case"u":ProchitajjXU();break;case"e":a=1;break;default:theError("Wrong construction x…")}break;case"w":case"W":theError("W & w are not acceptable");break;case"J":switch(fillLetter(),n){case"O":writeLetter("Ё");break;case"J":writeLetter("Й");break;case"Q":writeLetter("Ъ");break;case"U":writeLetter("Ю");break;case"A":writeLetter("Я");break;default:theError("Wrong construction J…")}break;case"j":switch(fillLetter(),n){case"o":writeLetter("ё");break;case"j":writeLetter("й");break;case"q":writeLetter("ъ");break;case"u":writeLetter("ю");break;case"a":writeLetter("я");break;default:theError("Wrong construction j…")}break;case"A":writeLetter("А");break;case"a":writeLetter("а");break;case"B":writeLetter("Б");break;case"b":writeLetter("б");break;case"V":writeLetter("В");break;case"v":writeLetter("в");break;case"G":writeLetter("Г");break;case"g":writeLetter("г");break;case"D":writeLetter("Д");break;case"d":writeLetter("д");break;case"E":writeLetter("Е");break;case"e":writeLetter("е");break;case"Z":writeLetter("З");break;case"z":writeLetter("з");break;case"I":writeLetter("И");break;case"i":writeLetter("и");break;case"K":writeLetter("К");break;case"k":writeLetter("к");break;case"L":writeLetter("Л");break;case"l":writeLetter("л");break;case"M":writeLetter("М");break;case"m":writeLetter("м");break;case"N":writeLetter("Н");break;case"n":writeLetter("н");break;case"O":writeLetter("О");break;case"o":writeLetter("о");break;case"P":writeLetter("П");break;case"p":writeLetter("п");break;case"R":writeLetter("Р");break;case"r":writeLetter("р");break;case"S":writeLetter("С");break;case"s":writeLetter("с");break;case"T":writeLetter("Т");break;case"t":writeLetter("т");break;case"U":writeLetter("У");break;case"u":writeLetter("у");break;case"F":writeLetter("Ф");break;case"f":writeLetter("ф");break;case"C":writeLetter("Ц");break;case"c":writeLetter("ц");break;case"Y":writeLetter("Ы");break;case"y":writeLetter("ы");break;case"Q":writeLetter("Ь");break;case"q":writeLetter("ь");break;case"H":theError("Wrong single H");break;case"h":theError("Wrong single h");break;default:writeLetter(n)}}break;case 1:switch(n){case"w":switch(fillLetter(),n){case"w":writeLetter("w");break;default:theError("Wrong construction w…")}break;case"W":switch(fillLetter(),n){case"W":writeLetter("W");break;default:theError("Wrong construction W…")}break;case"x":switch(fillLetter(),n){case"x":writeLetter("x");break;case"r":a=0;break;case"u":ProchitajjXU();break;default:theError("Wrong construction x…")}break;case"X":switch(fillLetter(),n){case"X":writeLetter("X");break;default:theError("Wrong construction X…")}break;default:writeLetter(n)}break;default:theError("Wrong alphabet")}fillLetter()}return t}e.cyrillicRussianToLatin=function cyrillicRussianToLatin(e){return CyrillicToLatinUnsafe({preset:"ru"}).transform(e)},e.cyrillicToLatinQuick=function cyrillicToLatinQuick(e){return cyrillicToLatinSimple(e)},e.cyrillicToLatinUnicode=function cyrillicToLatinUnicode(e){return cyrillicToLatin(e)},e.cyrillicUkrainianToLatin=function cyrillicUkrainianToLatin(e){return CyrillicToLatinUnsafe({preset:"uk"}).transform(e)},e.latinToCyrillicRussian=function latinToCyrillicRussian(e){return CyrillicToLatinUnsafe({preset:"ru"}).reverse(e)},e.latinToCyrillicUkrainian=function latinToCyrillicUkrainian(e){return CyrillicToLatinUnsafe({preset:"uk"}).reverse(e)},e.latinToCyrillicUnicode=function latinToCyrillicUnicode(e){return latinToCyrillic(e)},e.translit=function translit(e){return cyrillicToLatinSimple(e)},e.translitRu=function translitRu(e){return CyrillicToLatinUnsafe({preset:"ru"}).transform(e)},e.translitUCS=function translitUCS(e){return cyrillicToLatin(e)},e.translitUk=function translitUk(e){return CyrillicToLatinUnsafe({preset:"uk"}).transform(e)},e.unTranslitRu=function unTranslitRu(e){return CyrillicToLatinUnsafe({preset:"ru"}).reverse(e)},e.unTranslitUCS=function unTranslitUCS(e){return latinToCyrillic(e)},e.unTranslitUk=function unTranslitUk(e){return CyrillicToLatinUnsafe({preset:"uk"}).reverse(e)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=translit-ed.js.map
